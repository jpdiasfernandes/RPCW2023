extends layout

block content
  .w3-card-4
    header.w3-container.w3-teal
      h1 Todo
    
    .w3-row
      form.w3-content.w3-container(method="POST" action="/")
        input.w3-input.w3-round(type="hidden" name="id" value=(list.length + 1))
        input.w3-input.w3-round(type="hidden" name="estado" value="todo")
        input.w3-input.w3-round(type="hidden" name="action" value="add")
        fieldset 
          legend O quê?
          input.w3-input.w3-round(type="text" name="nome")
        fieldset 
          legend Quem?
          input.w3-input.w3-round(type="text" name="quem")
        fieldset 
          legend Para quando?
          input.w3-input.w3-round(type="date" name="quando")
        button.w3-btn.w3-teal.w3-mb-2(type="submit") Add

    .w3-row 
      .w3-half.w3-container
        .w3-card.w3-khaki.w3-center
          h2 Tarefas por fazer
        each t in list
          if t.estado == "todo"
            .w3-row
              .w3-col(style="width:50%")
                h2 #{t.nome} 
                h4 Responsável: #{t.quem} 
              .w3-col(style="width:20%")
                p #{t.quando}
              .w3-col(style="width:15%")
                form(method="POST" action="/")
                  input(type="hidden" name="id" value=t.id)
                  input(type="hidden" name="nome" value=t.nome)
                  input(type="hidden" name="quem" value=t.quem)
                  input(type="hidden" name="quando" value=t.quando)
                  input(type="hidden" name="estado" value="done")
                  input(type="hidden" name="action" value="update")
                  button.w3-btn.w3-teal.w3-mb-2(type="submit") Done
              .w3-rest
               form(method="POST" action="/")
                input(type="hidden" name="id" value=t.id)
                input(type="hidden" name="action" value="delete")
                button.w3-btn.w3-teal.w3-mb-2(type="submit") X

      .w3-half.w3-container
        .w3-card.w3-red.w3-center
          h2 Tarefas feitas
        each t in list
          if t.estado == "done"
            .w3-row
              .w3-col(style="width:50%")
                h2 #{t.nome} 
                h4 Responsável: #{t.quem} 
              .w3-col(style="width:20%")
                p #{t.quando}
              .w3-col(style="width:15%")
                form(method="POST" action="/")
                  input(type="hidden" name="id" value=t.id)
                  input(type="hidden" name="nome" value=t.nome)
                  input(type="hidden" name="quem" value=t.quem)
                  input(type="hidden" name="quando" value=t.quando)
                  input(type="hidden" name="estado" value="todo")
                  input(type="hidden" name="action" value="update")
                  button.w3-btn.w3-teal.w3-mb-2(type="submit") Undo
              .w3-rest
               form(method="POST" action="/")
                input(type="hidden" name="id" value=t.id)
                input(type="hidden" name="action" value="delete")
                button.w3-btn.w3-teal.w3-mb-2(type="submit") X

    footer.w3-container.w3-teal
      h5 Generated by RPCW2023 in #{d} - [#[a(href="/") Return]]
        




    


