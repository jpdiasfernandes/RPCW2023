extends layout

block content
  .w3-card-4
    header.w3-container.w3-teal
      h1 Todo
    
    .w3-row
      form.w3-content.w3-container(method="POST")
        input.w3-input.w3-round(type="hidden" name="id" value=(list.length + 1))
        input.w3-input.w3-round(type="hidden" name="estado" value="todo")
        fieldset 
          legend O quÃª?
          input.w3-input.w3-round(type="text" name="nome")
        fieldset 
          legend Quem?
          input.w3-input.w3-round(type="text" name="quem")
        fieldset 
          legend Para quando?
          input.w3-input.w3-round(type="date" name="quando")
        button.w3-btn.w3-teal.w3-mb-2(type="submit") Add

    .w3-row 
      .w3-half.w3-container
        .w3-card.w3-khaki.w3-center
          h2 Tarefas por fazer
        ul.w3-ul.w3-hoverable
        each t in list
          if t.estado == "todo"
            li.w3-bar
              .w3-bar-item
                p #{t.nome} 
                p #{t.quem} 
                p #{t.quando}
                form(method="POST" action="/update")
                  input(type="hidden" name="id" value="#{t.id}")
                  input(type="hidden" name="nome" value="#{t.nome}")
                  input(type="hidden" name="quem" value="#{t.quem}")
                  input(type="hidden" name="quando" value="#{t.quando}")
                  input(type="hidden" name="estado" value="todo")
                  input.w3-check(type="checkbox" name="estado" value="done")
                  button.w3-btn.w3-teal.w3-mb-2(type="submit") Done
                form(method="POST" action="/delete")
                  input(type="hidden" name="id" value="#{t.id}")
                  button.w3-btn.w3-teal.w3-mb-2(type="submit") X
      .w3-half.w3-container
        .w3-card.w3-red.w3-center
          h2 Tarefas feitas
        ul.w3-ul.w3-hoverable
        each t in list
          if t.estado == "done"
            li.w3-bar
              .w3-bar-item
                h2 #{t.nome} 
                br
                h3 #{t.quem} 
                br
                p #{t.quando}
                br
                form(method="POST" action="/update")
                  input(type="hidden" name="id" value="#{t.id}")
                  input(type="hidden" name="nome" value="#{t.nome}")
                  input(type="hidden" name="quem" value="#{t.quem}")
                  input(type="hidden" name="quando" value="#{t.quando}")
                  input(type="hidden" name="estado" value="done")
                  input.w3-check(type="checkbox" name="estado" value="todo")
                  button.w3-btn.w3-teal.w3-mb-2(type="submit") Undo
                form(method="POST" action="/delete")
                  input(type="hidden" name="id" value="#{t.id}")
                  button.w3-btn.w3-teal.w3-mb-2(type="submit") X


    footer.w3-container.w3-teal
      h5 Generated by RPCW2023 in #{d} - [#[a(href="/") Return]]
        




    


